<div class="instruccion-pago-container" [class]="tipoPago">

  <app-publicidad-section 
    seccion="pago"
    altura="200px"
    (publicidadCambio)="onPublicidadCambio($event)">
  </app-publicidad-section>

  <main class="pago-content">
    <img src="assets/cliente/kiosko_go4k.png" alt="Kiosko Go!" class="kiosko-logo">

    <div class="pago-icon-wrapper">
      <img [src]="obtenerImagenTipo()" [alt]="obtenerTitulo()" class="pago-icon">
    </div>

    <h2 class="pago-title">{{ obtenerTitulo() }}</h2>

    <p class="pago-instrucciones">{{ obtenerInstrucciones() }}</p>

    <div class="botones-container">
      
      <button 
        class="pago-button"
        [class.btn-finalizar]="tipoPago === 'completado'"
        [disabled]="procesandoPago"
        (click)="tipoPago === 'completado' ? finalizarPedido() : continuar()">
        {{ tipoPago === 'completado' ? 'Finalizar Pedido' : obtenerTextoBoton() }}
      </button>

      <button 
        *ngIf="tipoPago === 'tarjeta' && estadoPago.estado !== 'exitoso'"
        class="btn-cancelar" 
        [disabled]="procesandoPago"
        (click)="cancelarPago()">
        Cancelar
      </button>


    </div>

    <div class="estado-pago" *ngIf="tipoPago === 'tarjeta'">
      <div class="estado-mensaje" [class]="estadoPago.estado">
        {{ estadoPago.mensaje }}
      </div>
      <div *ngIf="procesandoPago" class="spinner-loading"></div>
    </div>
  </main>
</div>
